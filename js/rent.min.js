import"./common.min.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();class o{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(r=>{const e=r.dataset.flsDynamic.trim().split(","),t={};t.element=r,t.parent=r.parentNode,t.destinationParent=e[3]&&r.closest(e[3].trim())||document,e[3]&&e[3].trim();const s=e[0]?e[0].trim():null;if(s){const n=t.destinationParent.querySelector(s);n&&(t.destination=n)}t.breakpoint=e[1]?e[1].trim():"767.98",t.place=e[2]?e[2].trim():"last",t.index=this.indexInParent(t.parent,t.element),this.objects.push(t)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:r})=>`(${this.type}-width: ${r/16}em),${r}`).filter((r,i,e)=>e.indexOf(r)===i),this.mediaQueries.forEach(r=>{const i=r.split(","),e=window.matchMedia(i[0]),t=i[1],s=this.objects.filter(({breakpoint:n})=>n===t);e.addEventListener("change",()=>{this.mediaHandler(e,s)}),this.mediaHandler(e,s)})}mediaHandler(r,i){r.matches?i.forEach(e=>{e.destination&&this.moveTo(e.place,e.element,e.destination)}):i.forEach(({parent:e,element:t,index:s})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,s)})}moveTo(r,i,e){i.classList.add(this.daClassname);const t=r==="last"||r==="first"?r:parseInt(r,10);t==="last"||t>=e.children.length?e.append(i):t==="first"?e.prepend(i):e.children[t].before(i)}moveBack(r,i,e){i.classList.remove(this.daClassname),r.children[e]!==void 0?r.children[e].before(i):r.append(i)}indexInParent(r,i){return[...r.children].indexOf(i)}arraySort(r){if(this.type==="min")r.sort((i,e)=>i.breakpoint===e.breakpoint?i.place===e.place?0:i.place==="first"||e.place==="last"?-1:i.place==="last"||e.place==="first"?1:0:i.breakpoint-e.breakpoint);else{r.sort((i,e)=>i.breakpoint===e.breakpoint?i.place===e.place?0:i.place==="first"||e.place==="last"?1:i.place==="last"||e.place==="first"?-1:0:e.breakpoint-i.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>window.flsDynamic=new o);
